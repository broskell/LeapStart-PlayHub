<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LeapStart PlayHub ‚Äì Game Planner</title>
  <link rel="icon" type="image/png" href="assets/playhub_html_logo.png" />
  <!-- Styles -->
  <link rel="stylesheet" href="playhub.css" />

  <!-- Firebase compat SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script src="firebase-init.js"></script>
</head>
<body>
  <div class="app">
    <!-- Top bar -->
    <header class="header">
      <div class="brand">
        <h1>LeapStart PlayHub</h1>
        <p class="subtitle">Foosball ¬∑ Carrom ¬∑ Table Tennis ¬∑ Chess ¬∑ UNO ¬∑ 8-Ball Pool ‚Äî 9:00 AM ‚Äì 5:30 PM</p>
      </div>
      <div class="header-right">
        <div class="user-pill">
          <img id="user-avatar" class="avatar" alt="User avatar" />
          <span id="user-name"></span>
        </div>
        <button id="logout-btn" class="secondary-btn small">Log out</button>
      </div>
    </header>

    <!-- Game selection row -->
    <section class="games-row">
      <div class="games-label">
        Today‚Äôs games
      </div>
      <div class="games-list">
        <button class="game-card active" data-game="Foosball">
          <span class="game-title">Foosball</span>
          <span class="game-subtitle">2v2 ¬∑ quick fun</span>
        </button>

        <button class="game-card" data-game="Carrom">
          <span class="game-title">Carrom</span>
          <span class="game-subtitle">chill &amp; precision</span>
        </button>

        <!-- Disabled: future main campus -->
        <button
          class="game-card disabled"
          data-game="Table Tennis"
          data-disabled="true"
        >
          <span class="game-title">Table Tennis</span>
          <span class="game-subtitle">coming soon</span>
        </button>

        <button class="game-card" data-game="Chess">
          <span class="game-title">Chess</span>
          <span class="game-subtitle">1v1 ¬∑ strategy</span>
        </button>

        <button class="game-card" data-game="Uno">
          <span class="game-title">UNO</span>
          <span class="game-subtitle">cards ¬∑ 4-6 players</span>
        </button>

        <!-- Disabled: future main campus -->
        <button
          class="game-card disabled"
          data-game="8 Ball Pool"
          data-disabled="true"
        >
          <span class="game-title">8‚ÄëBall Pool</span>
          <span class="game-subtitle">coming soon</span>
        </button>
      </div>

      <div class="games-date">
        <label for="date-input">Date</label>
        <input id="date-input" type="date" />
      </div>
    </section>

    <!-- Main content -->
    <main class="main">
      <!-- Left: schedule -->
      <section class="panel schedule-panel">
        <div class="schedule-header">
          <div>
            <h2>Day Schedule</h2>
            <p class="hint">
              Click an available slot to pre‚Äëselect it for booking. Booked slots
              show who‚Äôs playing so you can challenge them.
            </p>
          </div>
          <div class="selected-info">
            <div id="selected-game-label" class="pill-label"></div>
            <div id="selected-date-label" class="pill-label soft"></div>
          </div>
        </div>

        <div class="legend">
          <span class="pill available-pill"></span> Available
          <span class="pill booked-pill"></span> Booked
          <span class="pill mine-pill"></span> Your booking
        </div>

        <div id="slot-grid" class="slot-grid">
          <!-- Filled by JS -->
        </div>
      </section>

      <!-- Right: booking + my bookings + challenges -->
      <section class="panel booking-panel">
        <div class="booking-header">
          <h2>Book a Slot</h2>
          <p class="hint">
            Pick your game &amp; time, then lock your slot. You can also ask Honey
            (üçØ) to handle it for you.
          </p>
        </div>

        <form id="booking-form">
          <div class="form-row two-col">
            <div class="field">
              <label for="student-name">Name</label>
              <input
                id="student-name"
                type="text"
                placeholder="Your full name"
                required
              />
            </div>
          </div>

          <div class="form-row two-col">
            <div class="field">
              <label for="game-select">Game</label>
              <select id="game-select" required>
                <option value="Foosball">Foosball</option>
                <option value="Carrom">Carrom</option>
                <option value="Chess">Chess</option>
                <option value="Uno">Uno</option>
                <!-- Table Tennis & 8‚ÄëBall Pool are disabled from booking -->
              </select>
            </div>
            <div class="field">
              <label for="slot-select">Time Slot</label>
              <select id="slot-select" required></select>
              <p class="hint small" id="slot-hint">
                Tip: click a slot on the left to auto‚Äëselect it.
              </p>
            </div>
          </div>

          <div id="form-message" class="form-message"></div>

          <button type="submit" class="primary-btn">
            Book this slot
          </button>
        </form>

        <section class="my-bookings">
          <h3>My Bookings</h3>
          <ul id="my-bookings-list"></ul>
        </section>

        <section class="challenges">
          <h3>Challenges (for you)</h3>
          <ul id="challenge-list"></ul>
          <p class="hint small">
            Click ‚ÄúChallenge‚Äù on someone else's booked slot to send them a challenge.
          </p>
        </section>
      </section>
    </main>
  </div>

  <footer class="footer">
    <a href="https://media.kannadaprabha.com/kannadaprabha%2F2025-06-03%2Ffzue4bxp%2FatBtZW6uUsfRvBU-ezgif.com-optimize.gif"><img src="/assets/bgless_sign.png" alt="sign" class="footer-logo"></a>
  </footer>
  <script src="playhub.js"></script>

  <!-- Honey floating assistant button -->
  <button
    id="honey-toggle"
    class="honey-floating-btn"
    aria-label="Open Honey Assistant"
  >
    üçØ
  </button>

  <!-- Honey chat widget -->
  <div id="honey-widget" class="honey-widget">
    <div class="honey-widget-header">
      <span>Honey ¬∑ PlayHub Assistant</span>
      <button
        id="honey-close"
        class="honey-close-btn"
        aria-label="Close Honey assistant"
      >
        √ó
      </button>
    </div>

    <div id="honey-chat-messages" class="honey-chat-messages"></div>

    <div class="honey-typing" id="honey-typing" style="display: none;">
      <span></span><span></span><span></span>
    </div>
  
    <form id="honey-chat-form" class="honey-chat-form">
      <input
        id="honey-input"
        type="text"
        placeholder="Ask Honey to book, cancel or suggest..."
        autocomplete="off"
      />
      <button type="submit" class="primary-btn small">Send</button>
    </form>
  </div>
</body>
</html>